<script>
  // ======= AUDIO SOURCES (place files in /assets) =======
  const VOICE_SRC = 'assets/Voice.mp3';   // your uploaded voice
  const MUSIC_SRC = 'assets/Music.mp3';   // your uploaded music

  const voice = new Audio(VOICE_SRC);
  const music = new Audio(MUSIC_SRC);
  music.loop = true;
  music.volume = 0.35;

  let currentScene = 1;
  let timer = null;

  function showScene(n){
    document.querySelector('.scene.active')?.classList.remove('active');
    document.querySelector(`[data-scene="${n}"]`)?.classList.add('active');
  }

  async function safePlay(a){
    try { 
      a.muted = false; 
      a.currentTime = 0; 
      await a.play(); 
      return true; 
    }
    catch(e){ 
      console.log('play error', e); 
      return false; 
    }
  }

  async function startAd(){
    document.getElementById('startBtn').style.display='none';

    const v = await safePlay(voice);
    const m = await safePlay(music);

    if(!v && !m){
      alert('If sound is off, toggle Silent Mode / turn volume up and tap ▶️ again.');
      document.getElementById('startBtn').style.display='block';
      return;
    }

    // cycle scenes every 2.5s
    timer = setInterval(()=>{
      currentScene = currentScene >= 5 ? 1 : currentScene + 1;
      showScene(currentScene);
    }, 2500);
  }

  document.getElementById('startBtn').addEventListener('click', startAd);
</script>